@{
    ViewData["Title"] = "PoliSure Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    /* New container for the full-page background and centering */
    .account-bg-container {
        width: 100%;
        min-height: 100vh;
        background-color: #f0f4f8;
        background-image: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .account-card {
        max-width: 560px;
        width: 100%; /* Ensure it's responsive */
        background-color: #f9fafb;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        padding: 3rem;
        border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .form-section {
        animation: fadeIn 0.5s ease-in-out;
    }

    @@keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>

<div class="account-bg-container">
    <div class="account-card">
        <h4 class="text-center mb-4">PoliSure User Login</h4>

        <!-- User login form -->
        <div id="userLoginForm" class="form-section">
            <h5 class="text-center mb-3">User Login</h5>
            <form id="userForm" method="post">
                <div class="mb-3">
                    <label class="form-label">Username<span class="text-danger">*</span></label>
                    <input class="form-control" name="username" required />
                </div>
                <div class="mb-3">
                    <label class="form-label">Password<span class="text-danger">*</span></label>
                    <input class="form-control" name="password" type="password" required />
                </div>
                <button class="btn btn-primary w-100 mt-2">Login</button>
            </form>
        </div>
    </div>
</div>

<!-- Reusable Modal for Success Messages -->
<div class="modal fade" id="statusModal" tabindex="-1" aria-labelledby="statusModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="statusModalLabel"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p id="statusModalBody"></p>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const statusModal = new bootstrap.Modal(document.getElementById('statusModal'));
        const statusModalLabel = document.getElementById('statusModalLabel');
        const statusModalBody = document.getElementById('statusModalBody');
        const userForm = document.getElementById('userForm');

        function handleLoginSuccess() {
            statusModalLabel.textContent = 'Login Successful!';
            statusModalBody.textContent = 'You have successfully logged in. You will now be redirected.';
            statusModal.show();
            setTimeout(function() {
                // In a real application, you would handle the server-side login
                window.location.href = '@Url.Action("Dashboard", "User")';
            }, 3000);
        }

        userForm.addEventListener('submit', function(event) {
            event.preventDefault();
            handleLoginSuccess();
        });
    });
</script>
